'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var lib = require('@web-std/form-data');
var file = require('@web-std/file');
var fetch = require('@web-std/fetch');
var test$1 = require('./test.cjs');

/**
 * @param {import('./test').Test} test
 */
const test = test => {
  test("node-fetch recognizes form-data", async () => {
    const data = new lib.FormData();
    data.set("file", new file.Blob(["hello"]));
    // @ts-ignore
    const response = new fetch.Response(data);

    test$1.assert.equal(response.headers.has("content-type"), true);
    const type = response.headers.get("content-type") || "";
    test$1.assert.equal(
      /multipart\/form-data;\s*boundary=/.test(type),
      true,
      "multipart/form-data content type"
    );

    const text = await response.text();
    test$1.assert.equal(text.includes("hello"), true);
  });
};

exports.test = test;
//# sourceMappingURL=fetch.spec.cjs.map
